!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("filestack-js"),require("@angular/common")):"function"==typeof define&&define.amd?define("@filestack/angular",["exports","@angular/core","rxjs","filestack-js","@angular/common"],e):e(((t=t||self).filestack=t.filestack||{},t.filestack.angular={}),t.ng.core,t.rxjs,t.filestackJs,t.ng.common)}(this,function(t,e,n,r,o){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function c(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(){function t(){}return Object.defineProperty(t.prototype,"client",{get:function(){if(!this.clientInstance)throw new Error("FilestackService: client does not exist. Please initialize service via init method.");return this.clientInstance},set:function(t){this.clientInstance=t},enumerable:!0,configurable:!0}),t.prototype.setClientInstance=function(t){t&&(this.client=t)},t.prototype.init=function(t,e){this.client=r.init(t,e)},t.prototype.picker=function(t){return this.client.picker(t)},t.prototype.transform=function(t,e,n){return this.client.transform(t,e,n)},t.prototype.retrieve=function(t,e,r){return n.from(this.client.retrieve(t,e,r))},t.prototype.metadata=function(t,e,r){return n.from(this.client.metadata(t,e,r))},t.prototype.storeURL=function(t,e,r,o){return n.from(this.client.storeURL(t,e,r,o))},t.prototype.upload=function(t,e,r,o,i){return n.from(this.client.upload(t,e,r,o,i))},t.prototype.remove=function(t,e){return n.from(this.client.remove(t,e))},t.prototype.removeMetadata=function(t,e){return n.from(this.client.removeMetadata(t,e))},t.prototype.preview=function(t,e){return this.client.preview(t,e)},t.prototype.logout=function(t){return n.from(this.client.logout(t))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),a=function(){function t(t){this.filestackService=t,this.uploadSuccess=new n.Subject,this.uploadError=new n.Subject}return t.prototype.ngOnInit=function(){var t=this.apikey,e=this.clientOptions;this.filestackService.init(t,e)},t.prototype.ngOnDestroy=function(){var t=this.picker;t&&t.close()},t.ctorParameters=function(){return[{type:s,decorators:[{type:e.Inject,args:[s]}]}]},t.propDecorators={apikey:[{type:e.Input}],pickerOptions:[{type:e.Input}],clientOptions:[{type:e.Input}],file:[{type:e.Input}],source:[{type:e.Input}],uploadSuccess:[{type:e.Output}],uploadError:[{type:e.Output}]},t}(),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.ngAfterContentInit=function(){var t=this.filestackService,e=this.uploadSuccess,n=this.pickerOptions;this.picker=t.picker(p({},n,{displayMode:r.PickerDisplayMode.overlay,onUploadDone:function(t){return e.next(t)}}))},n.prototype.ngAfterViewInit=function(){var t=this.picker,e=this.customRenderRef,n=this.uploadError;e.nativeElement.children.length||t.open().then(void 0)["catch"](function(t){return n.next(t)})},n.prototype.onClick=function(t){var e=this.picker,n=this.uploadError;t.stopPropagation(),t.preventDefault(),e.open().then(void 0)["catch"](function(t){return n.next(t)})},n.decorators=[{type:e.Component,args:[{selector:"ng-picker-overlay",template:'<div #customRender><ng-content class="ng-picker"></ng-content></div>',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.propDecorators={customRenderRef:[{type:e.ViewChild,args:["customRender",{"static":!1}]}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},n}(a),l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.ngAfterContentInit=function(){var t=this.filestackService,e=this.uploadSuccess,n=this.uploadError,o=this.pickerOptions;this.picker=t.picker(p({},o,{displayMode:r.PickerDisplayMode.dropPane,container:"ng-picker-drop-pane-container",onUploadDone:function(t){return e.next(t)}})),this.picker.open().then(void 0)["catch"](function(t){return n.next(t)})},n.decorators=[{type:e.Component,args:[{selector:"ng-picker-drop-pane",template:'<div id="ng-picker-drop-pane-container" class="ng-picker"></div>',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n}(a),f=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return c(n,t),n.prototype.ngAfterContentInit=function(){var t=this.filestackService,e=this.uploadSuccess,n=this.uploadError,o=this.pickerOptions;this.picker=t.picker(p({},o,{displayMode:r.PickerDisplayMode.inline,container:"ng-picker-inline-container",onUploadDone:function(t){return e.next(t)}})),this.picker.open().then(void 0)["catch"](function(t){return n.next(t)})},n.decorators=[{type:e.Component,args:[{selector:"ng-picker-inline",template:'<div id="ng-picker-inline-container" class="ng-picker"></div>',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n}(a),d=function(){function t(t){this.filestackService=t}return t.prototype.transform=function(t,e){return this.filestackService.transform(t,e)},t.decorators=[{type:e.Pipe,args:[{name:"filestackTransform"}]}],t.ctorParameters=function(){return[{type:s}]},t}(),h=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],providers:[s],declarations:[u,f,l,d],exports:[u,f,l,d]}]}],t}();t.FilestackModule=h,t.FilestackService=s,t.FilestackTransformPipe=d,t.PickerDropPaneComponent=l,t.PickerInlineComponent=f,t.PickerOverlayComponent=u,t.ɵa=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=filestack-angular.umd.min.js.map